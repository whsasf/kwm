(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44e6d0b3"],{"066a":function(t,e,a){"use strict";var o=a("8652"),r=a.n(o);r.a},"26f7":function(t,e,a){"use strict";var o=a("c239"),r=a.n(o);r.a},"2ca0":function(t,e,a){"use strict";var o=a("23e7"),r=a("06cf").f,i=a("50c4"),n=a("5a34"),s=a("1d80"),l=a("ab13"),c=a("c430"),u="".startsWith,d=Math.min,h=l("startsWith"),f=!c&&!h&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();o({target:"String",proto:!0,forced:!f&&!h},{startsWith:function(t){var e=String(s(this));n(t);var a=i(d(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return u?u.call(e,o,a):e.slice(a,a+o.length)===o}})},"39dc":function(t,e,a){},5319:function(t,e,a){"use strict";var o=a("d784"),r=a("825a"),i=a("7b0b"),n=a("50c4"),s=a("a691"),l=a("1d80"),c=a("8aa5"),u=a("14c3"),d=Math.max,h=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};o("replace",2,(function(t,e,a,o){var v=o.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=o.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function(a,o){var r=l(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,o):e.call(String(r),a,o)},function(t,o){if(!v&&w||"string"===typeof o&&-1===o.indexOf(b)){var i=a(e,t,this,o);if(i.done)return i.value}var l=r(t),f=String(this),p="function"===typeof o;p||(o=String(o));var g=l.global;if(g){var x=l.unicode;l.lastIndex=0}var S=[];while(1){var y=u(l,f);if(null===y)break;if(S.push(y),!g)break;var k=String(y[0]);""===k&&(l.lastIndex=c(f,n(l.lastIndex),x))}for(var D="",I=0,U=0;U<S.length;U++){y=S[U];for(var _=String(y[0]),W=d(h(s(y.index),f.length),0),z=[],P=1;P<y.length;P++)z.push(m(y[P]));var $=y.groups;if(p){var A=[_].concat(z,W,f);void 0!==$&&A.push($);var O=String(o.apply(void 0,A))}else O=C(_,f,W,z,$,o);W>=I&&(D+=f.slice(I,W)+O,I=W+_.length)}return D+f.slice(I)}];function C(t,a,o,r,n,s){var l=o+t.length,c=r.length,u=g;return void 0!==n&&(n=i(n),u=p),e.call(s,u,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,o);case"'":return a.slice(l);case"<":s=n[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>c){var d=f(u/10);return 0===d?e:d<=c?void 0===r[d-1]?i.charAt(1):r[d-1]+i.charAt(1):e}s=r[u-1]}return void 0===s?"":s}))}}))},"587c":function(t,e,a){"use strict";var o=a("39dc"),r=a.n(o);r.a},"5a34":function(t,e,a){var o=a("44e7");t.exports=function(t){if(o(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6de4":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"Article-button-group"},[a("i-button",{attrs:{type:"error",icon:"md-trash"},on:{click:t.deleteConfirm}},[t._v("删除")]),a("i-page",{attrs:{total:t.itemCount,current:t.currentPage,"page-size":t.pageSize,"page-size-opts":[10,20,30,40,50,100],size:"small","show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange}}),a("i-upload",{ref:"upload",attrs:{action:"","show-upload-list":!1,"before-upload":t.handleBeforeUpload}},[a("i-button",{attrs:{type:"primary",icon:"md-cloud-upload"},on:{click:t.addItems}},[t._v("批量添加")])],1),a("i-button",{staticClass:"download-Template",attrs:{type:"primary",icon:"md-copy"},on:{click:t.downloadTemplate}},[t._v("下载模板")]),a("i-button",{staticStyle:{color:"#fff","background-color":"#057009"},attrs:{height:"200",onMouseOver:"this.style.color='#b6f204'",onMouseOut:"this.style.color='#fff'",icon:"md-power"},on:{click:t.runDig}},[t._v("开始挖词")])],1),a("i-table",{ref:"table",staticClass:"Article-table",attrs:{columns:t.columns1,data:t.ArticleItemData,loading:t.loading,stripe:"",border:""},on:{"on-selection-change":function(e){return t.handleSelectRow()},"on-filter-change":t.handleFilter},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.row,r=e.index;return[a("div",[a("i-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.seeArticleDetail(o,r)}}},[t._v("检视")])],1)]}}])}),a("i-page",{attrs:{total:t.itemCount,current:t.currentPage,"page-size":t.pageSize,"page-size-opts":[10,20,30,40,50,100],size:"small","show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange}}),a("i-seeUrlConfig",{key:t.seeUrlConfigKey,attrs:{url2Sees:t.url2See,showSeeUrlConfig:t.showSeeUrlConfig},on:{"update:showSeeUrlConfig":function(e){t.showSeeUrlConfig=e},"update:show-see-url-config":function(e){t.showSeeUrlConfig=e}}}),a("i-seeDetails",{key:t.seeDetailKey,attrs:{rawCategories:t.rawCategories,pageSize:t.pageSize,currentPage:t.currentPage,currentIndex:t.currentIndex,showSeeDetail:t.showSeeDetail},on:{"update:currentIndex":function(e){t.currentIndex=e},"update:current-index":function(e){t.currentIndex=e},"update:showSeeDetail":function(e){t.showSeeDetail=e},"update:show-see-detail":function(e){t.showSeeDetail=e},forceRefresh:t.forceRefresh}}),a("i-digWordsWarn",{attrs:{UserDictItemCount:t.UserDictItemCount,StopDictItemCount:t.StopDictItemCount,showdigWords:t.showdigWords},on:{"update:showdigWords":function(e){t.showdigWords=e},"update:showdig-words":function(e){t.showdigWords=e}}}),a("i-articleUpload",{key:t.xyz,attrs:{rowCategoies:t.rawCategories,ArticleWindowShow:t.ArticleWindowShow,Alldata:t.Alldata},on:{"update:ArticleWindowShow":function(e){t.ArticleWindowShow=e},"update:article-window-show":function(e){t.ArticleWindowShow=e},uploadArticlesnewItem:t.uploadArticlesnewItem}})],1)},r=[],i=(a("a15b"),a("fb6a"),a("b0c0"),a("d3b7"),a("ac1f"),a("8a79"),a("5319"),a("1276"),a("2ca0"),a("498a"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("5530")),n=a("2f62"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Article-see-Url-config"},[a("i-modal",{attrs:{closable:!1,"mask-closable":!1,scrollable:!0},model:{value:t.showSeeUrlConfig,callback:function(e){t.showSeeUrlConfig=e},expression:"showSeeUrlConfig"}},[t.showSeeUrlConfig&&""!==t.url2SeeData?a("div",{staticClass:"Article-see-Url-config-content"},[a("h1",[t._v(" URL配置")]),a("h3",[t._v("url: "+t._s(t.url2SeeData.rootUrl))]),a("br"),a("div",{staticClass:"scrolll"},[a("h3",[t._v("允许路径")]),a("ul",t._l(t.url2SeeData.urlIncludePath,(function(e,o){return a("li",{key:o},[a("span",{staticClass:"seeUrlConfig-path"},[t._v(t._s(e.path))]),a("span",{staticClass:"seeUrlConfig-type"},[t._v(t._s(e.type))])])})),0),a("br"),a("h3",[t._v("排除路径")]),a("ul",t._l(t.url2SeeData.urlExcludePath,(function(e,o){return a("li",{key:o},[a("span",{staticClass:"seeUrlConfig-path"},[t._v(t._s(e.path))]),a("span",{staticClass:"seeUrlConfig-type"},[t._v(t._s(e.type))])])})),0)])]):t._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{attrs:{type:"default",size:"large"},on:{click:function(e){return t.modalCancel()}}},[t._v("关闭")])],1)])],1)},l=[],c={name:"seeUrlConfig",data:function(){return{url2SeeData:""}},props:["showSeeUrlConfig","url2Sees"],computed:Object(i["a"])({},Object(n["c"])(["baseurl","currentComponent"])),mounted:function(){this.fetchUrl2See()},methods:{modalCancel:function(){this.url2SeeData="",this.$emit("update:showSeeUrlConfig",!1)},fetchUrl2See:function(){var t=this,e={urlPart:t.url2Sees};t.axios({method:"get",url:t.baseurl+"Urls/"+t.currentComponent,params:e}).then((function(e){0===e.data.count?t.url2SeeData={rootUrl:"找不到,请检查!"}:t.url2SeeData=e.data.content[0]})).catch((function(t){console.log(t)}))}}},u=c,d=(a("587c"),a("2877")),h=Object(d["a"])(u,s,l,!1,null,"0cf83d3e",null),f=h.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Article-see-detail"},[a("i-modal",{attrs:{title:"查看详情:  第"+t.xcurrentPage+"页，第"+(t.xindex+1)+"个",width:"750px",closable:!1,"mask-closable":!1,scrollable:!0},model:{value:t.showSeeDetail,callback:function(e){t.showSeeDetail=e},expression:"showSeeDetail"}},[t.showSeeDetail&&t.articleDetail!==[]?a("div",{staticClass:"Article-see-detail-content-total"},[a("div",{staticClass:"Article-see-detail-content-total1"},[a("div",{staticClass:"article-detail-content-p1"},[t._v(" "+t._s(t.seeBody)+" ")]),a("div",{staticClass:"article-detail-content-p2"},[a("li",{staticClass:"liLine header"},[a("div",{staticClass:"p1"},[t._v("词语")]),a("div",{staticClass:"p2"},[t._v("操作")])]),t._l(this.seeSplitWords,(function(e,o){return a("li",{key:o,staticClass:"liLine main"},[a("div",{staticClass:"p1"},[t._v(t._s(e))]),a("div",{staticClass:"p2"},[a("i-button",{staticClass:"Stop",staticStyle:{color:"#fff","background-color":"#54616f"},attrs:{size:"small"},on:{click:function(a){return t.setStopWord(e,o)}}},[t._v("设为停止词")]),a("i-button",{staticClass:"Invalid",staticStyle:{color:"#fff","background-color":"#7b5ae4"},attrs:{size:"small"},on:{click:function(a){return t.setInvalidWord(e,o)}}},[t._v("设为无效词")])],1)])}))],2)]),a("div",{staticClass:"Article-see-detail-content-total2"},[a("i-button",{staticClass:"xbutton setInvalid",attrs:{disabled:"无效"===this.seeStatus||0===t.seeSplitWords.length,type:"warning",size:"default",icon:"md-warning"},on:{click:function(e){return t.setUrlInvalid("invalid")}}},[t._v("设为无效")]),a("i-button",{staticClass:"xbutton setValid",attrs:{disabled:"无效"!==this.seeStatus||0===t.seeSplitWords.length,type:"warning",size:"default",icon:"md-medkit"},on:{click:function(e){return t.setUrlInvalid("valid")}}},[t._v("设为有效")]),a("i-button",{staticClass:"xbutton addUserDict",attrs:{type:"success",size:"default"},on:{click:function(e){return t.add2UserDict()}}},[t._v("增加用户词")])],1)]):t._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{attrs:{type:"primary",disabled:t.previousDisabled,size:"large",shape:"circle"},on:{click:function(e){return t.PreviousOne()}}},[t._v("上一个")]),a("i-button",{attrs:{type:"primary",disabled:t.nextDisabled,size:"large",shape:"circle"},on:{click:function(e){return t.nextOne()}}},[t._v("下一个")]),a("i-button",{attrs:{type:"default",size:"large"},on:{click:function(e){return t.modalCancel()}}},[t._v("关闭")])],1)]),a("adduserDictWindow",{attrs:{rawCategories:t.rawCategories,addUserDictWindowShow:t.addUserDictWindowShow},on:{"update:addUserDictWindowShow":function(e){t.addUserDictWindowShow=e},"update:add-user-dict-window-show":function(e){t.addUserDictWindowShow=e}}})],1)},g=[],m=(a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Url-itemPage"},[a("i-modal",{attrs:{title:"添加用户词",closable:!1,"mask-closable":!1,scrollable:!0},model:{value:t.addUserDictWindowShow,callback:function(e){t.addUserDictWindowShow=e},expression:"addUserDictWindowShow"}},[a("div",{staticClass:"Url-itemPage-form"},[a("i-form",{ref:"formCustom",attrs:{model:t.formCustom,rules:t.ruleCustom,"label-width":100}},[a("i-formItem",{attrs:{label:"用户词",prop:"word"}},[a("i-input",{staticClass:"management-newProject-name-input",attrs:{type:"text",placeholder:"请输入用户词"},model:{value:t.formCustom.word,callback:function(e){t.$set(t.formCustom,"word",e)},expression:"formCustom.word"}})],1),a("div",{staticClass:"Url-itemPage-form-category"},[a("i-formItem",{attrs:{label:"分类",prop:"categorySelect"}},[a("div",{staticClass:"Url-itemPage-form-category-inside"},[a("i-select",{staticClass:"Url-itemPage-form-category-select",attrs:{multiple:""},model:{value:t.formCustom.categorySelect,callback:function(e){t.$set(t.formCustom,"categorySelect",e)},expression:"formCustom.categorySelect"}},t._l(t.rawCategories,(function(e){return a("i-option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1)])],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{attrs:{type:"default",size:"large"},on:{click:function(e){return t.modalCancel()}}},[t._v("取消")]),a("i-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.modalOk("formCustom")}}},[t._v("提交")])],1)])],1)}),v=[],w={name:"adduserDictWindow",data:function(){var t=function(t,e,a){""===e?a(new Error("用户词不能为空")):a()};return{formCustom:{word:"",categorySelect:[]},ruleCustom:{word:[{validator:t,trigger:"blur"}]}}},props:["addUserDictWindowShow","rawCategories"],computed:Object(i["a"])({},Object(n["c"])(["baseurl","currentComponent"])),beforeDestroy:function(){},mounted:function(){},methods:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["changeUrlItemWindowShow"])),{},{modalOk:function(t){var e=this,a=this;a.$refs[t].validate((function(o){if(o){console.log("验证成功");var r={};r["word"]=a.formCustom.word,r["categories"]=a.formCustom.categorySelect,r["operator"]=localStorage.getItem("kwmUser"),a.axios({method:"post",url:a.baseurl+"UserDict/"+a.currentComponent,data:[r]}).then((function(o){console.log(o),a.$Message.success("增加用户词成功!"),a.$refs[t].resetFields(),e.$emit("update:addUserDictWindowShow",!1)})).catch((function(t){console.log(t),a.$Message.error("增加用户词失败!")}))}else a.$Message.error("提交失败")}))},modalCancel:function(){this.$emit("update:addUserDictWindowShow",!1)}})},b=w,C=Object(d["a"])(b,m,v,!1,null,"86cf1924",null),x=C.exports,S={name:"seeDetails",data:function(){return{xindex:JSON.parse(JSON.stringify(this.currentIndex)),xcurrentPage:JSON.parse(JSON.stringify(this.currentPage)),xpageSize:JSON.parse(JSON.stringify(this.pageSize)),xtotalItems:0,articleDetail:[],nextDisabled:!1,previousDisabled:!1,addUserDictWindowShow:!1}},components:{adduserDictWindow:x},props:["showSeeDetail","currentIndex","currentPage","pageSize","rawCategories"],computed:Object(i["a"])(Object(i["a"])({},Object(n["c"])(["baseurl","currentComponent"])),{},{xtotalPages:function(){return 0!==this.articleDetail.length?Math.ceil(this.xtotalItems/this.xpageSize):0},seeStatus:function(){return 0!==this.articleDetail.length&&this.xindex<this.currentPagetotalCount&&this.xindex>=0?this.articleDetail[this.xindex].status:""},seeBody:function(){return 0!==this.articleDetail.length&&this.xindex<this.currentPagetotalCount&&this.xindex>=0?this.articleDetail[this.xindex].body:""},seeSplitWords:function(){return 0!==this.articleDetail.length&&this.xindex<this.currentPagetotalCount&&this.xindex>=0?this.articleDetail[this.xindex].splitWords:[]},seeUid:function(){return 0!==this.articleDetail.length&&this.xindex<this.currentPagetotalCount&&this.xindex>=0?this.articleDetail[this.xindex]["_id"]["$oid"]:""},currentPagetotalCount:function(){return this.articleDetail.length}}),mounted:function(){var t=this;if(t.showSeeDetail){var e={currentPage:t.xcurrentPage,pageSize:t.xpageSize};t.fetchItem(e)}},methods:{fetchItem:function(t){var e=this;e.axios({method:"get",url:e.baseurl+"Articles/"+e.currentComponent,params:t}).then((function(t){""!==t.data.count&&(e.xtotalItems=t.data.count),e.articleDetail=t.data.content,e.xindex===e.currentPagetotalCount-1&&e.xcurrentPage===e.xtotalPages&&(e.nextDisabled=!0),0===e.xindex&&1===e.xcurrentPage&&(e.previousDisabled=!0)})).catch((function(t){console.log(t)}))},add2UserDict:function(){var t=this;t.addUserDictWindowShow=!0},setUrlInvalid:function(t){var e=this,a={},o="";"invalid"===t?(a={status:"无效"},o="无效"):"valid"===t&&(a={status:"已添加"},o="有效");var r={currentPage:e.xcurrentPage,pageSize:e.xpageSize};e.axios({method:"patch",url:e.baseurl+"Articles/"+e.currentComponent+"/"+e.seeUid,data:a,params:r}).then((function(t){""!==t.data.count&&(e.xtotalItems=t.data.count),e.articleDetail=t.data.content,e.$Message.success("设为"+o+"url成功!")})).catch((function(t){console.log(t),e.$Message.error("设为"+o+"url失败!")}))},PreviousOne:function(){var t=this;if(t.nextDisabled=!1,t.xindex=t.xindex-1,t.xindex<0)if(t.xcurrentPage>1){t.xindex=t.xpageSize-1,t.xcurrentPage=t.xcurrentPage-1;var e={currentPage:t.xcurrentPage,pageSize:t.xpageSize};t.fetchItem(e)}else t.previousDisabled=!0;else 0===t.xindex&&1===t.xcurrentPage&&(t.previousDisabled=!0)},nextOne:function(){var t=this;if(t.previousDisabled=!1,t.xindex=t.xindex+1,t.xindex===t.currentPagetotalCount)if(t.xcurrentPage<t.xtotalPages){t.xindex=0,t.xcurrentPage=t.xcurrentPage+1;var e={currentPage:t.xcurrentPage,pageSize:t.xpageSize};t.fetchItem(e)}else t.nextDisabled=!0;else t.xindex===t.currentPagetotalCount-1&&t.xcurrentPage===t.xtotalPages&&(t.nextDisabled=!0)},modalCancel:function(){this.$emit("forceRefresh",this.xcurrentPage),this.$emit("update:showSeeDetail",!1)},setStopWord:function(t,e){var a=this,o=[{word:t,operator:localStorage.getItem("kwmUser")}];a.axios({method:"post",url:a.baseurl+"StopDict/"+a.currentComponent,data:o}).then((function(){var o=JSON.parse(JSON.stringify(a.seeSplitWords));o.splice(e,1);var r={splitWords:o},i={currentPage:a.xcurrentPage,pageSize:a.xpageSize};console.log("uid",a.seeUid),a.axios({method:"patch",url:a.baseurl+"Articles/"+a.currentComponent+"/"+a.seeUid,data:r,params:i}).then((function(t){""!==t.data.count&&(a.xtotalItems=t.data.count),a.articleDetail=t.data.content,a.$Message.success("设为停止词成功!")})).catch((function(e){console.log(e),a.$Message.error("设置失败,正在回滚 ...");var o=[t];a.axios({method:"delete",url:a.baseurl+"StopDict/"+a.currentComponent,data:o}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}))})).catch((function(t){console.log(t)}))},setInvalidWord:function(t,e){var a=this,o=[{word:t,operator:localStorage.getItem("kwmUser")}];a.axios({method:"post",url:a.baseurl+"InvalidDict/"+a.currentComponent,data:o}).then((function(){var o=JSON.parse(JSON.stringify(a.seeSplitWords));o.splice(e,1);var r={splitWords:o},i={currentPage:a.xcurrentPage,pageSize:a.xpageSize};console.log("uid",a.seeUid),a.axios({method:"patch",url:a.baseurl+"Articles/"+a.currentComponent+"/"+a.seeUid,data:r,params:i}).then((function(t){""!==t.data.count&&(a.xtotalItems=t.data.count),a.articleDetail=t.data.content,a.$Message.success("设为无效词成功!")})).catch((function(e){console.log(e),a.$Message.error("设置失败,正在回滚 ...");var o=[t];a.axios({method:"delete",url:a.baseurl+"InvalidDict/"+a.currentComponent,data:o}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}))})).catch((function(t){console.log(t)}))}}},y=S,k=(a("d73d"),Object(d["a"])(y,p,g,!1,null,"1715f06c",null)),D=k.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Urls-seeDetail"},[a("i-modal",{attrs:{title:"挖词警报",closable:!1,"mask-closable":!1,scrollable:!0},model:{value:t.showdigWords,callback:function(e){t.showdigWords=e},expression:"showdigWords"}},[a("div",{staticClass:"digWords"},[a("div",{staticClass:"part1"},[0===t.UserDictItemCount&&0===t.StopDictItemCount?a("h4",[t._v("当前 停用词典 与 用户词典 为空，请确定是否进行挖词")]):0===t.UserDictItemCount&&0!==t.StopDictItemCount?a("h4",[t._v("当前 用户词典 为空，请确定是否进行挖词")]):0!==t.UserDictItemCount&&0===t.StopDictItemCount?a("h4",[t._v("当前 停用词典 为空，请确定是否进行挖词")]):a("h4"),a("div",{staticClass:"button-group"},[a("i-button",{staticClass:"button-p1",attrs:{type:"default",size:"large"},on:{click:function(e){return t.modalCancel()}}},[t._v("取消")]),a("i-button",{staticClass:"button-p2",attrs:{type:"success",size:"large"},on:{click:function(e){return t.modalOk()}}},[t._v("确定")])],1)]),a("div",{staticClass:"part2"},[a("i-button",{staticClass:"button-p3",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.goToStopDict()}}},[t._v("查看停用词")]),a("i-button",{staticClass:"button-p4",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.goToUserDict()}}},[t._v("查看用户词")])],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{attrs:{type:"default",size:"large"},on:{click:function(e){return t.modalCancel()}}},[t._v("关闭")])],1)])],1)},U=[],_={name:"digWordsWarn",data:function(){return{}},mounted:function(){},props:["showdigWords","UserDictItemCount","StopDictItemCount"],computed:Object(i["a"])({},Object(n["c"])(["currentUserName","currentComponent"])),beforeDestroy:function(){},methods:{modalOk:function(){console.log("开始挖词,挖词中..."),this.$emit("update:showdigWords",!1)},modalCancel:function(){this.$emit("update:showdigWords",!1)},goToStopDict:function(){this.$emit("update:showdigWords",!1),this.$router.push("/Main/Project/"+this.currentComponent+"/StopDict")},goToUserDict:function(){this.$emit("update:showdigWords",!1),this.$router.push("/Main/Project/"+this.currentComponent+"/userDict")}}},W=_,z=(a("c0b0"),Object(d["a"])(W,I,U,!1,null,"0ad35cde",null)),P=z.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("i-modal",{attrs:{title:"批量上传编辑",width:"60",closable:!1,"mask-closable":!1,styles:{top:"20px"},scrollable:!0},model:{value:t.ArticleWindowShow,callback:function(e){t.ArticleWindowShow=e},expression:"ArticleWindowShow"}},[a("div",{staticClass:"articleitemPage"},[a("i-form",{ref:"Alldata",attrs:{model:t.Alldata,"label-width":100}},t._l(t.Alldata.data,(function(e,o){return a("div",{key:o},[a("div",{staticClass:"loop"},[a("p",[t._v("序列"+t._s(parseInt(o)+1))]),a("i-formItem",{attrs:{label:"来源"}},[a("i-input",{attrs:{type:"text",placeholder:"请输入root"},model:{value:e.root,callback:function(a){t.$set(e,"root",a)},expression:"item.root"}})],1),a("i-formItem",{attrs:{label:"url"}},[a("i-input",{attrs:{type:"text",placeholder:"请输入url"},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1),a("i-formItem",{attrs:{label:"title"}},[a("i-input",{attrs:{type:"text",placeholder:"请输入title"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1),a("div",{staticClass:"flexs"},[a("label",{staticClass:"mylabel"},[t._v("关键词")]),a("i-select",{attrs:{multiple:"",filterable:"","allow-create":""},model:{value:e.keywords,callback:function(a){t.$set(e,"keywords",a)},expression:"item.keywords"}},t._l(e.keywords,(function(e,o){return a("i-option",{key:o,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("i-formItem",{attrs:{label:"desciption"}},[a("i-input",{attrs:{type:"text",placeholder:"请输入desciption"},model:{value:e.desciption,callback:function(a){t.$set(e,"desciption",a)},expression:"item.desciption"}})],1),a("i-formItem",{attrs:{label:"rawContent"}},[a("i-input",{attrs:{type:"text",placeholder:"请输入rawContent"},model:{value:e.rawContent,callback:function(a){t.$set(e,"rawContent",a)},expression:"item.rawContent"}})],1),a("i-formItem",{attrs:{label:"body"}},[a("i-input",{attrs:{type:"text",placeholder:"请输入body"},model:{value:e.body,callback:function(a){t.$set(e,"body",a)},expression:"item.body"}})],1),a("div",{staticClass:"flexs"},[a("label",{staticClass:"mylabel"},[t._v("目录")]),a("i-select",{attrs:{multiple:"",filterable:"","allow-create":""},model:{value:e.category,callback:function(a){t.$set(e,"category",a)},expression:"item.category"}},t._l(t.rowCategoies,(function(e,o){return a("i-option",{key:o,attrs:{value:e}},[t._v(t._s(e))])})),1)],1)],1)])})),0)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{attrs:{type:"default",size:"large"},on:{click:function(e){return t.modalCancel("Alldata")}}},[t._v("取消")]),a("i-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.modalOk("Alldata")}}},[t._v("提交")])],1)])],1)},A=[],O={name:"articleUpload",data:function(){return{}},props:["ArticleWindowShow","rowCategoies","Alldata"],computed:Object(i["a"])({},Object(n["c"])(["baseurl","currentComponent"])),beforeDestroy:function(){},mounted:function(){},methods:{modalOk:function(t){var e=this,a=e.Alldata.data;e.$emit("uploadArticlesnewItem",a),e.$refs[t].resetFields(),e.$emit("update:ArticleWindowShow",!1)},modalCancel:function(t){this.$refs[t].resetFields(),this.$emit("update:ArticleWindowShow",!1)}}},j=O,R=(a("26f7"),Object(d["a"])(j,$,A,!1,null,"12f2441e",null)),L=R.exports,M={name:"Articles",data:function(){var t=this,e=this;return{Alldata:{},formCustom:[],ArticleWindowShow:!1,xyz:2e3,excelNoteData:[["","使用前必看！"],["",""],[1,"请将数据按照示例格式填写在Articles sheet中"],[2,"不要修改Articles sheet的名称，否则会出错"],[3,"不要使用中文逗号等分隔符"],[4,"从第3行开始写"]],excelTemplateData:{data:[["title","keywords","desciption","rawContent","body","分类"],["","","","","",""],["店宝宝","创业,电商,自由,财富","这是一个帮助中小用户淘宝开店的产品解决方案","免费帮你开店","世界很美好啊,但是到处都有战争，不要战争，要和平！","分类1,分类2,分类3,分类4,分类5,分类6"],["完美邮箱","完美,88,个人,企业,方便,祝福","为个人用户提供邮箱服务，同时也为企业用户提供服务","简单快捷开通邮箱，安全性好","还在翻墙用谷歌邮箱吗？还在用满是广告的网易邮箱吗？还在用丑陋不堪的腾讯邮箱吗？来试试完美邮箱吧！","分类1,分类2,分类3,分类6"]]},rawCategories:[],UserDictItemCount:"",StopDictItemCount:"",currentIndex:0,stopDictEmpty:!1,userDictEmpty:!1,showSeeUrlConfig:!1,showdigWords:!1,showSeeDetail:!1,seeUrlConfigKey:0,seeDetailKey:1e4,url2See:"",currentPage:1,pageSize:10,loading:!1,itemCount:0,dataRange:["",""],ArticleItemData:[],projetcCategoriesList:[],selectedItemList:[],categoryChecked:[],urlChecked:[],statusChecked:[],lengthChecked:[],columns1:[{type:"selection",width:30,align:"center",resizable:!0,fixed:"left"},{title:"id",key:"id",width:45,align:"center",sortable:!0,resizable:!0,fixed:"left"},{title:"来源",key:"root",align:"left",minWidth:100,resizable:!0,render:function(e,a){if(a.row.root)return a.row.root.toLowerCase().startsWith("http://")||a.row.root.toLowerCase().startsWith("https://")?e("a",{on:{click:function(){t.handleSeeUrlConfig(a.row.root)}}},a.row.root):e("p",a.row.root)},fixed:"left"},{title:"url",key:"url",align:"left",minWidth:100,filters:[{label:"有效",value:"1"},{label:"无效",value:"2"}],filterMethod:function(t,e){return e},resizable:!0,render:function(t,e){if(0!==e.row.url)return e.row.url.endsWith(".csv")||e.row.url.endsWith(".txt")||e.row.url.endsWith(".json")||e.row.url.endsWith(".xlsx")||e.row.url.endsWith(".xls")?t("p",e.row.url):t("a",{on:{click:function(){window.open(e.row.url)}}},e.row.url)},fixed:"left"},{title:"title",key:"title",align:"center",minWidth:90,resizable:!0},{title:"keywords",key:"keywords",align:"center",minWidth:90,resizable:!0,render:function(t,e){if(e.row.keywords)return t("p",e.row.keywords.join(";"))}},{title:"desciption",key:"desciption",align:"center",minWidth:100,resizable:!0},{title:"rawContent",key:"rawContent",align:"center",width:90,resizable:!0},{title:"body",key:"body",align:"center",tooltip:!0,minWidth:350,resizable:!0,render:function(t,e){return t("p",{style:{color:"#057009","font-weight":400,overflow:"auto","max-height":"80px"}},e.row.body)}},{title:"长度",key:"Length",align:"center",minWidth:60,resizable:!0,filters:[{label:"0-50",value:"1"},{label:"50-100",value:"2"},{label:"100-300",value:"3"},{label:"300-500",value:"4"},{label:"500-1000",value:"5"},{label:"1000-10000",value:"6"}],filterMethod:function(t,e){return e},render:function(t,e){if(e.row.Length)return t("p",e.row.Length)}},{title:"分词",key:"splitWords",align:"center",minWidth:350,resizable:!0,render:function(t,e){if(e.row.splitWords)return t("p",{style:{color:"#057009","font-weight":"400",overflow:"auto","max-height":"80px"}},e.row.splitWords.join(";"))}},{title:"分类",key:"category",align:"center",minWidth:90,resizable:!0,filters:[],filterMultiple:!0,filterMethod:function(t,e){return e},render:function(t,e){if(e.row.category)return t("p",e.row.category.join(";"))}},{title:"状态",key:"status",align:"center",minWidth:60,resizable:!0,filters:[{label:"无效",value:"无效"},{label:"已添加",value:"已添加"},{label:"已分词",value:"已分词"},{label:"已挖词",value:"已挖词"}],filterMethod:function(t,e){return e},render:function(t,e){return"无效"===e.row.status?t("p",{style:{"background-color":"rgba(100, 108, 122, 0.5)"}},e.row.status):"已添加"===e.row.status?t("p",e.row.status):"已分词"===e.row.status?t("p",{style:{"background-color":"rgba(151, 221, 144, 0.5)"}},e.row.status):"已挖词"===e.row.status?t("p",{style:{"background-color":"rgba(7, 249, 23, 0.5)"}},e.row.status):void 0}},{title:"变更时间",key:"modifiedTime",align:"center",minWidth:90,resizable:!0,renderHeader:function(t){return t("span",[t("span","变更时间"),t("i-poptip",{props:{title:"日期过滤",content:"content",placement:"left-start",transfer:!0,trigger:"click",width:400},style:{"margin-left":"5px",color:function(){return 2===e.dataRange.length&&""===e.dataRange[0]&&""===e.dataRange[1]?"#c5c8ce":"#2d8cf0"}(),cursor:"pointer"}},[t("i-icon",{props:{type:"ios-funnel",size:16}}),t("i-datePicker",{slot:"content",props:{type:"datetimerange",placeholder:"选择日期时间区间",transfer:!1},style:{position:"static",width:"320px"},on:{"on-change":function(t){e.TimeChange(t)}}})])])}},{title:"操作",key:"action",slot:"action",align:"center",minWidth:60,resizable:!0,fixed:"right"}]}},computed:Object(i["a"])({},Object(n["c"])(["baseurl","currentComponent"])),components:{"i-seeUrlConfig":f,"i-seeDetails":D,"i-digWordsWarn":P,"i-articleUpload":L},mounted:function(){var t={currentPage:self.currentPage,pageSize:self.pageSize};this.fetchItems(t),this.fetchProjectCategories()},methods:{downloadTemplate:function(){var t=this.$XLSX.utils.aoa_to_sheet(this.excelNoteData),e=this.$XLSX.utils.aoa_to_sheet(this.excelTemplateData.data),a=this.$XLSX.utils.book_new();this.$XLSX.utils.book_append_sheet(a,t,"说明"),this.$XLSX.utils.book_append_sheet(a,e,"Articles"),this.$XLSX.writeFile(a,"Articles-template.xlsx")},forceRefresh:function(t){this.currentPage=t;var e={currentPage:this.currentPage,pageSize:this.pageSize};this.fetchItems(e)},runDig:function(){var t=this;t.axios({method:"get",url:t.baseurl+"UserDict/"+t.currentComponent+"/isEmpty"}).then((function(e){t.UserDictItemCount=e.data,t.axios({method:"get",url:t.baseurl+"StopDict/"+t.currentComponent+"/isEmpty"}).then((function(e){t.StopDictItemCount=e.data,console.log(t.StopDictItemCount),console.log(t.UserDictItemCount),0===t.StopDictItemCount||0===t.UserDictItemCount?t.showdigWords=!0:console.log("直接进行挖词，挖词中 ...")})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},handleSeeUrlConfig:function(t){var e=this;e.url2See=t,e.seeUrlConfigKey=e.seeUrlConfigKey+1,e.showSeeUrlConfig=!0},pageChange:function(t){var e=this;e.currentPage=t;var a={currentPage:e.currentPage,pageSize:e.pageSize};e.fetchItems(a)},pageSizeChange:function(t){var e=this;e.pageSize=t,e.currentPage=1;var a={currentPage:e.currentPage,pageSize:e.pageSize};e.fetchItems(a)},handleSelectRow:function(){this.selectedItemList=this.$refs.table.getSelection()},fetchProjectCategories:function(){var t=this;t.axios({method:"get",url:t.baseurl+"Categories/"+t.currentComponent}).then((function(e){for(var a in e.data.content)t.projetcCategoriesList.push({label:e.data.content[a].categoryName,value:e.data.content[a].categoryName}),t.rawCategories.push(e.data.content[a].categoryName);t.columns1[11].filters=t.projetcCategoriesList})).catch((function(t){console.log(t)}))},seeArticleDetail:function(t,e){var a=this;t.body?(a.currentIndex=e,a.showSeeDetail=!0,a.seeDetailKey=a-1):a.$Message.info("不存在body")},deleteConfirm:function(){var t=this,e=this;0===e.selectedItemList.length?e.$Message.info("无待删除项"):e.$Modal.confirm({title:"删除确认",content:"<p>删除后不可恢复,如果确定删除,请确认</p>",onOk:function(){t.deleteItems()},onCancel:function(){}})},deleteItems:function(){var t=this,e=[];for(var a in t.selectedItemList)e.push(t.selectedItemList[a]["_id"]["$oid"]);console.log(e),t.axios({method:"delete",url:t.baseurl+"Articles/"+t.currentComponent,data:e}).then((function(e){t.currentPage=1,""!==e.data.count&&(t.itemCount=e.data.count),t.selectedItemList=[],t.ArticleItemData=e.data.content})).catch((function(t){console.log(t)}))},addItems:function(){console.log("addItems")},TimeChange:function(t){var e=this;console.log("time changed"),e.dataRange=t;var a={currentPage:e.currentPage,urlFilter:encodeURIComponent(e.urlChecked),pageSize:e.pageSize,lengthFilter:encodeURIComponent(e.lengthChecked),categoryFilter:encodeURIComponent(e.categoryChecked),statusFilter:encodeURIComponent(e.statusChecked),dataRange:encodeURIComponent(e.dataRange)};e.fetchItems(a)},runcrawler:function(){console.log("runcrawler")},handleFilter:function(t){var e=this,a={key:t["key"],checked:t["_filterChecked"]};"category"===a.key?e.categoryChecked=a["checked"]:"status"===a.key?e.statusChecked=a["checked"]:"url"===a.key?e.urlChecked=a["checked"]:"Length"===a.key&&(e.lengthChecked=a["checked"]),e.currentPage=1;var o={currentPage:e.currentPage,pageSize:e.pageSize,urlFilter:encodeURIComponent(e.urlChecked),lengthFilter:encodeURIComponent(e.lengthChecked),categoryFilter:encodeURIComponent(e.categoryChecked),statusFilter:encodeURIComponent(e.statusChecked),dataRange:encodeURIComponent(e.dataRange)};e.fetchItems(o)},handleBeforeUpload:function(t){var e=this,a={xlsx:"1",xls:"1"};if("1"===a[t.name.split(".")[1].toLowerCase()]){var o=[],r=new FileReader;return r.readAsArrayBuffer(t),r.onload=function(a){var r=new Uint8Array(a.target.result),i=e.$XLSX.read(r,{type:"array"}),n=e.$XLSX.utils.sheet_to_json(i.Sheets.Articles,{header:1,blankrows:!1}).slice(2);for(var s in n){var l={};l.root=t.name,l.url=t.name.split(".")[0]+"-"+(new Date).valueOf()+String(parseInt(100001*Math.random()))+"."+t.name.split(".")[1],l.title=n[s][0].trim(),l.keywords=n[s][1].trim().replace(/，/g,",").split(","),l.desciption=n[s][2].trim(),l.rawContent=n[s][3].trim(),l.body=n[s][4].trim(),l.category=n[s][5].trim().replace(/，/g,",").split(","),o.push(l)}e.Alldata={data:o},e.xyz--,e.ArticleWindowShow=!0},!1}e.$Message.error("文件类型必须是 xlsx 或 xls")},uploadArticlesnewItem:function(t){var e=this;e.axios({method:"post",url:e.baseurl+"Articles/"+e.currentComponent,data:t}).then((function(t){e.currentPage=1,""!==t.data.count&&(e.itemCount=t.data.count),e.ArticleItemData=t.data.content})).catch((function(t){console.log(t)}))},fetchItems:function(t){var e=this,a=t;e.loading=!0,e.axios({method:"get",url:e.baseurl+"Articles/"+e.currentComponent,params:a}).then((function(t){""!==t.data.count&&(e.itemCount=t.data.count),e.ArticleItemData=t.data.content,e.loading=!1})).catch((function(t){e.loading=!1,console.log(t)}))}}},E=M,N=(a("066a"),Object(d["a"])(E,o,r,!1,null,"6f550a62",null));e["default"]=N.exports},8652:function(t,e,a){},"8a79":function(t,e,a){"use strict";var o=a("23e7"),r=a("06cf").f,i=a("50c4"),n=a("5a34"),s=a("1d80"),l=a("ab13"),c=a("c430"),u="".endsWith,d=Math.min,h=l("endsWith"),f=!c&&!h&&!!function(){var t=r(String.prototype,"endsWith");return t&&!t.writable}();o({target:"String",proto:!0,forced:!f&&!h},{endsWith:function(t){var e=String(s(this));n(t);var a=arguments.length>1?arguments[1]:void 0,o=i(e.length),r=void 0===a?o:d(i(a),o),l=String(t);return u?u.call(e,l,r):e.slice(r-l.length,r)===l}})},"9c66":function(t,e,a){},"9e6d":function(t,e,a){},a15b:function(t,e,a){"use strict";var o=a("23e7"),r=a("44ad"),i=a("fc6a"),n=a("a640"),s=[].join,l=r!=Object,c=n("join",",");o({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},ab13:function(t,e,a){var o=a("b622"),r=o("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(o){}}return!1}},c0b0:function(t,e,a){"use strict";var o=a("9c66"),r=a.n(o);r.a},c239:function(t,e,a){},d73d:function(t,e,a){"use strict";var o=a("9e6d"),r=a.n(o);r.a}}]);
//# sourceMappingURL=chunk-44e6d0b3.b565ef7b.js.map